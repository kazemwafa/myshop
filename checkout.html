<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>پرداخت</title>
<link rel="stylesheet" href="style.css">
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="script.js"></script>
<style>
.checkout-container {
  max-width:500px; margin:50px auto; padding:20px; background:white; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.2);
}
.checkout-container h2{margin-bottom:20px;text-align:center;}
.checkout-container input{width:95%; padding:10px; margin:10px auto; display:block; border-radius:6px; border:1px solid #ccc;}
.checkout-container button{padding:12px 20px; background:#27ae60; color:white; border:none; border-radius:8px; cursor:pointer; width:100%; font-size:16px;}
.checkout-container button:hover{background:#2ecc71;}
</style>
</head>
<body>

<header>پرداخت</header>
<div class="container checkout-container">
  <h2>پرداخت سبد خرید</h2>
  <p id="totalAmount">جمع کل: 0 AFN</p>
  
  <input type="text" placeholder="نام صاحب کارت">
  <input type="text" placeholder="شماره کارت">
  <input type="text" placeholder="تاریخ انقضا">
  <input type="text" placeholder="CVV">
  
  <button onclick="payNow()">پرداخت</button>
</div>

<script>
function payNow(){
  const total = cart.reduce((sum,i)=>sum+i.price*i.qty,0);
  if(total===0){ alert("سبد خرید خالی است!"); return; }
  alert(`پرداخت با موفقیت انجام شد ✅\nجمع کل: ${total.toLocaleString()} AFN`);
  cart=[]; saveCart(); updateCartButton(); location.href='index.html';
}

document.getElementById("totalAmount").textContent = `جمع کل: ${cart.reduce((sum,i)=>sum+i.price*i.qty,0).toLocaleString()} AFN`;
</script>

</body>
</html>